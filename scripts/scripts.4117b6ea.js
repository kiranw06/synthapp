"use strict";angular.module("synthappApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngStorage","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/synth",{templateUrl:"views/synth.html",controller:"SynthCtrl",controllerAs:"synth"}).when("/patches",{templateUrl:"views/patches.html",controller:"PatchesCtrl",controllerAs:"patches"}).when("/custom/:patchId",{templateUrl:"views/custom.html",controller:"CustomCtrl",controllerAs:"custom"}).otherwise({redirectTo:"/"})}]),angular.module("synthappApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("synthappApp").controller("SynthCtrl",["$scope","$localStorage","$rootScope",function(a,b,c){a.storage=b,a.displayText="",a.isHidden=!0,a.showHide=function(){a.isHidden=a.isHidden?!1:!0,a.isVisible=a.isVisible?!0:!1},a.testaudio=function(){var b=new(window.AudioContext||window.webkitAudioContext);c.oscillator=b.createOscillator(),a.initialVol=.05,a.gainNode=b.createGain(),document.getElementById("volume").addEventListener("change",function(){a.gainNode.gain.value=this.value}),a.initialFreq=300,c.oscillator.detune.value=100,a.upTune=function(){c.oscillator.detune.value=c.oscillator.detune.value+50,c.oscillator.frequency.value=c.oscillator.detune.value},a.downTune=function(){c.oscillator.detune.value=c.oscillator.detune.value-50,c.oscillator.frequency.value=c.oscillator.detune.value},a.maxFreq=4e3,a.gainNode.gain.value=a.initialVol,c.oscillator.frequency.value=a.initialFreq,a.gainNode.connect(b.destination),a.startSound=function(){c.oscillator.connect(a.gainNode)},c.oscillator.start()},a.savePatch=function(d){var e={patchName:d,oscillator:c.oscillator.type,frequency:c.oscillator.frequency.value},f=!0;if(b.savedPatches)for(var g=0;g<b.savedPatches.length;g++)e.patchName===b.savedPatches[g].patchName&&(f=!1);else b.savedPatches=[];f===!0?(e.patchId=b.savedPatches.length+1,b.savedPatches.push(e),a.patchSaved={success:!0}):(console.log("patch already saved"),a.patchSaved={duplicate:!0})}}]),angular.module("synthappApp").controller("PatchesCtrl",["$scope","$localStorage",function(a,b){a.storage=b}]),angular.module("synthappApp").factory("current",function(){}),angular.module("synthappApp").service("synthesizer",function(){}),angular.module("synthappApp").controller("CustomCtrl",["$scope","$localStorage","$rootScope","$routeParams",function(a,b,c,d){a.storage=b,a.displayText="",a.isHidden=!0,a.showHide=function(){a.isHidden=a.isHidden?!1:!0,a.isVisible=a.isVisible?!0:!1};for(var e=0;e<a.storage.savedPatches.length;e++)a.storage.savedPatches[e].patchId==d.patchId&&(a.currentPatch=a.storage.savedPatches[e]);a.currentOscillator=a.currentPatch.oscillator,a.patchAudio=function(){var b=new(window.AudioContext||window.webkitAudioContext);c.oscillator=b.createOscillator(),c.oscillator.type=a.currentPatch.oscillator,a.initialVol=.05,a.gainNode=b.createGain(),document.getElementById("volume").addEventListener("change",function(){a.gainNode.gain.value=this.value}),a.initialFreq=a.currentPatch.frequency,a.maxFreq=4e3,c.oscillator.detune.value=100,a.upTune=function(){c.oscillator.detune.value=c.oscillator.detune.value+100,c.oscillator.frequency.value=a.initialFreq,c.oscillator.frequency.value=c.oscillator.detune.value},a.downTune=function(){c.oscillator.detune.value=c.oscillator.detune.value-100,c.oscillator.frequency.value=c.oscillator.detune.value},a.gainNode.gain.value=a.initialVol,c.oscillator.frequency.value=a.initialFreq,a.gainNode.connect(b.destination),a.startSound=function(){c.oscillator.connect(a.gainNode)},c.oscillator.start()}}]),angular.module("synthappApp").run(["$templateCache",function(a){a.put("views/custom.html",'<div id="page-wrapper" class="clearfix custom" ng-controller="patchAudio"> <div id="info" class="row"> <div class="col-xs-12"> <p>Synth</p> </div> </div> <div id="patchData" class="row"> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section"> <h2> Oscilator </h2> <div class="radio"> <label> <input class="sine" type="radio" ng-click="oscillator.type = \'sine\'" ng-checked="oscillator.type == \'sine\'" name="optradio"> Sine </label> </div> <div class="radio"> <label><input class="triangle" type="radio" ng-click="oscillator.type = \'triangle\'" ng-checked="oscillator.type == \'triangle\'" name="optradio">Triangle</label> </div> <div class="radio"> <label><input class="square" type="radio" ng-click="oscillator.type = \'square\'" ng-checked="oscillator.type == \'square\'" name="optradio">Square</label> </div> <div class="radio"> <label><input class="sawtooth" type="radio" ng-click="oscillator.type = \'sawtooth\'" ng-checked="oscillator.type == \'sawtooth\'" name="optradio">Sawtooth</label> </div> </div> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section octave"> <h2> Frequency </h2> <span class="octave" name="frequency" ng-model="oscillator.frequency.value"> <div class="display"> {{oscillator.frequency.value}} </div> <button class="btn btn-lrg btn-default glyphicon glyphicon glyphicon-arrow-up" ng-click="upTune()"></button> <button class="btn btn-lrg btn-default glyphicon glyphicon glyphicon-arrow-down" ng-click="downTune()"></button> </span> </div> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section volume"> <h2> Volume </h2> <span class="volume" name="volume" ng-model="gainNode.gain.value"> <input id="volume" type="range" min="0" max="1" step="0.1" value="0.1"> </span> </div> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section patches"> <h2> Patches </h2> <div ng-controller="PatchesCtrl"> <span id="patches"> <p class="display">{{currentPatch.patchName}}</p> <a class="btn btn-lrg btn-default stop" ng-href="#/patches"> My Patches </a> </span> </div> </div> </div> <div class="row synth-canvas"> <div class="col-xs-12"> <p> Canvas </p> <button class="btn btn-lrg btn-primary glyphicon glyphicon-play" ng-click="startSound()" ng-model="displayButton"></button> <button class="btn btn-lrg btn-primary glyphicon glyphicon-stop" ng-click="oscillator.disconnect(gainNode)" ng-model="displayButton"></button> <canvas id="canvas"></canvas> </div> </div> </div>'),a.put("views/main.html",'<div class="home"> <div class="jumbotron"> <h1>SynthApp</h1> <p class="lead"> Experiment with sounds. </p> <br> <p> <a class="btn-lrg btn btn-success text-uppercase" ng-href="#/synth" href="#/"> start </a> </p> </div> <div class="row marketing"> <div class="col-xs-12"> <h2>Play</h2> <p> Welcome to Synthapp! Use our in app sythezier keyboard to experiment with sound. With synthapp you can generate digital soundswith our built in effects and oscliators. </p> </div> </div> <div class="row marketing"> <div class="col-xs-12 col-sm-6"> <h3>Oscilator</h3> <p>Oscilators define the main character of your sound. Syntapp lets you choose from 4 oscilators, Sine, Triangle, Square and Sawtooth.</p> </div> <div class="col-xs-12 col-sm-6"> <h3>Frequency</h3> <p>Want more bass? More treble? Synthapp lets you choose a frequencey so you can use all the highs, mids, and lows.</p> </div> </div> <div class="row marketing"> <div class="col-xs-12"> <h2>Save</h2> <p> Like what you hear? Don\'t worry about memorizing your sound settings, Synthapp allows you to save your custom sound effects as a custom patch. We\'ll remember the settings so you don\'t have to. </p> </div> </div> </div>'),a.put("views/patches.html",'<div id="page-wrapper" class="clearfix patches" ng-controller="PatchesCtrl"> <div ng-if="storage"> <div id="info" class="row list-title"> <div class="col-xs-8 center-block"> <h1>Patches</h1> </div> </div> <div id="info" class="row"> <div class="col-xs-8 center-block"> <ul class="saved-patches-list"> <li ng-repeat="patch in storage.savedPatches"> <a ng-href="#/custom/{{patch.patchId}}" class="btn btn-lg btn-primary">{{patch.patchName}}</a> </li> </ul> </div> </div> </div> </div>'),a.put("views/synth.html",'<div id="page-wrapper" class="clearfix" ng-controller="testaudio"> <div id="info" class="row"> <div class="col-xs-12"> <p>Synth</p> </div> </div> <div id="patchData" class="row"> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section"> <h2> Oscilator </h2> <div class="radio" name="oscilator" ng-model="oscillator.type"> <label><input class="radio-input sine" type="radio" ng-click="oscillator.type = \'sine\'" name="optradio">Sine</label> </div> <div class="radio"> <label><input class="radio-input triangle" type="radio" ng-click="oscillator.type = \'triangle\'" name="optradio">Triangle</label> </div> <div class="radio"> <label><input class="radio-input square" type="radio" ng-click="oscillator.type = \'square\'" name="optradio">Square</label> </div> <div class="radio"> <label><input class="radio-input sawtooth" type="radio" ng-click="oscillator.type = \'sawtooth\'" name="optradio">Sawtooth</label> </div> </div> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section octave"> <div class="row"> <div class="col-xs-12"> <h2> Frequency </h2> </div> </div> <div class="row"> <div class="col-xs-12"> <span class="octave" name="frequency" ng-model="oscillator.frequency.value"> <div class="display"> {{oscillator.frequency.value}} </div> </span> <div class="col-xs-12"> <button class="btn btn-lrg btn-default glyphicon glyphicon glyphicon-arrow-up" ng-click="upTune()"></button> <button class="btn btn-lrg btn-default glyphicon glyphicon glyphicon-arrow-down" ng-click="downTune()"></button> </div> </div> </div> </div> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section volume"> <h2> Volume </h2> <span class="volume" name="volume" ng-model="gainNode.gain.value"> <input id="volume" type="range" min="0" max="1" step="0.1" value="0.1"> </span> </div> <div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 synth-section patches"> <div> <button class="btn btn-lrg btn-default glyphicon glyphicon-menu-hamburger pull-right" ng-click="showHide()"></button> <h2> Patches </h2> </div> <div ng-hide="isHidden" ng-controller="PatchesCtrl"> <span id="patches"> <p> Save as: <div class="display">{{displayText}}</div> </p> <div ng-messages="patchSaved"> <p class="patch-saved-alert bg-success text-success" ng-message="success"> Your custom patch {{patchName.text}} has been saved! </p> <p class="patch-saved-alert bg-warning text-warning" ng-message="duplicate"> {{patchName.text}} has already been saved. </p> </div> <input type="text" name="patchName" id="patch-name" ng-model="displayText"> <button class="btn btn-sm btn-default glyphicon glyphicon-floppy-disk" ng-hide="isHidden" ng-click="savePatch(displayText)"></button> <a class="btn btn-sm btn-default stop" ng-hide="isHidden" ng-href="#/patches">My Patches</a> </span> </div> </div> </div> </div> <div class="row synth-canvas"> <div class="col-xs-12"> <p> Canvas </p> <button class="btn btn-lrg btn-primary glyphicon glyphicon-play" ng-click="startSound()" ng-model="displayButton"></button> <button class="btn btn-lrg btn-primary glyphicon glyphicon-stop" ng-click="oscillator.disconnect(gainNode)" ng-model="displayButton"></button> <canvas id="canvas"></canvas> </div> </div>   <!-- <script src="scripts/synthpad.js"></script> -->')}]);